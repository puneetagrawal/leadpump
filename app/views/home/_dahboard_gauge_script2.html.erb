<script type="text/javascript">
$(document).ready(function () {
    initgauge1();
});

function initgauge1(){
    var project = "<%=@project.present? ? 'true' : 'false'%>";
    var eft = 0;
    var mem_sold = 0;
    var cash = 0;
    var cash = 0;
    var total_gross = 0;
    if(project == 'true'){
        eft = "<%=@gross_values['e_prjt'.to_sym]%>"; 
        mem_sold = "<%=@gross_values['m_prjt'.to_sym]%>";   
        cash = "<%=@gross_values['c_prjt'.to_sym]%>";
        total_gross = "<%=@gross_values['g_prjt'.to_sym]%>";
    }
    else{
        eft = "<%=@gross_values['g_eft'.to_sym]%>";
        mem_sold = "<%=@gross_values['g_mem'.to_sym]%>";
        cash = "<%=@gross_values['g_cash'.to_sym]%>";
        total_gross = "<%=@gross_values['g_gross'.to_sym]%>";
    }

    efts = getRange1(eft, 'eft_scope');
    $('#eftgauge').jqxGauge('value', efts);
    $('#eftgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text('$ ' + Math.round(eft));   
    });
    
    mem_sold = mem_sold ? parseInt(mem_sold) : 0;
    $('#membersoldgauge').jqxGauge('value', mem_sold);
    $('#membersoldgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value));
    });

    cashs = getRange1(cash, 'cash_scope');
    $('#cashgauge').jqxGauge('value', cashs)
    $('#cashgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text('$ ' + Math.round(cash));
    });
     
    total_grosss = getRange2(total_gross, 'gross_scope');
    $('#totalgrossgauge').jqxGauge('value', total_grosss);
    $('#totalgrossgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text('$ ' + Math.round(total_gross));
    });

    var test = "<%=@leads.present? ? 'true' : 'false'%>"
    if(test == "true"){
        var lead = "<%=@leads%>";
        lead = lead != 0 ? parseInt(lead) : 0;
        $('#leadgauge').jqxGauge('value', lead);
        $('#leadgauge').on('valueChanging', function (e) {
            $(this).siblings('.gaugeValue').text(Math.round(e.args.value));
        });
    }
    
}

function getRange(no, id){
    no = no ? parseInt(no) : 0
    if(no >= 0 && no <= 220){
        value = no;
        $("#"+id).html('');
        count = 0;
    }
    else if(no > 220 && no <= 2200){
        value = no/10;
        $("#"+id).html('(in 10)');
        count = 10;
    }
    else if(no > 2200 && no <= 22000){
        value = no/100;
        $("#"+id).html('(in 100)');
        count = 100;
    }   
    else if(no > 22000 && no <= 220000){
        value = no/1000;
        $("#"+id).html('(in 1000)');
        count = 1000;
    }  
    else if(no > 220000 && no <= 2200000){
        value = no/10000;
        $("#"+id).html('(in 10000)');
        count = 10000;
    }  
    else if(no > 2200000 && no <= 22000000){
        value = no/100000;
        $("#"+id).html('(in 100000)');
        count = 100000;
    }  
    else{
        value = no/1000000;
        $("#"+id).html('(in 1000000)');
        count = 1000000;
    }
    return value;
}

function getRange1(no, id){
    no = no ? parseInt(no) : 0
    if(no >= 0 && no <= 500){
        value = no;
        $("#"+id).html('');
        count = 0;
    }
    else if(no > 500 && no <= 5000){
        value = no/10;
        $("#"+id).html('(in 10)');
        count = 10;
    }
    else if(no > 5000 && no <= 50000){
        value = no/100;
        $("#"+id).html('(in 100)');
        count = 100;
    }   
    else if(no > 50000 && no <= 500000){
        value = no/1000;
        $("#"+id).html('(in 1000)');
        count = 1000;
    }
    else if(no > 500000 && no <= 5000000){
        value = no/10000;
        $("#"+id).html('(in 10000)');
        count = 10000;
    }
    else if(no > 5000000 && no <= 50000000){
        value = no/100000;
        $("#"+id).html('(in 100000)');
        count = 100000;
    }
    else{
        value = no/1000000;
        $("#"+id).html('(in 1000000)');
        count = 1000000;
    }
    return value;
}

function getRange2(no, id){
    no = no ? parseInt(no) : 0
    if(no >= 0 && no <= 1000){
        value = no;
        $("#"+id).html('');
        count = 0;
    }
    else if(no > 1000 && no <= 10000){
        value = no/10;
        $("#"+id).html('(in 10)');
        count = 10;
    }
    else if(no > 10000 && no <= 100000){
        value = no/100;
        $("#"+id).html('(in 100)');
        count = 100;
    }   
    else if(no > 100000 && no <= 1000000){
        value = no/1000;
        $("#"+id).html('(in 1000)');
        count = 1000;
    }
    else if(no > 1000000 && no <= 10000000){
        value = no/10000;
        $("#"+id).html('(in 10000)');
        count = 10000;
    }
    else if(no > 10000000 && no <= 100000000){
        value = no/100000;
        $("#"+id).html('(in 100000)');
        count = 100000;
    }
    else{
        value = no/1000000;
        $("#"+id).html('(in 1000000)');
        count = 1000000;
    }
    return value;
}
</script>
