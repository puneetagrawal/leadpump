<script type="text/javascript">
$(document).ready(function () {
    initgauge1();
});

function initgauge1(){
    var project = "<%=@project.present? ? 'true' : 'false'%>";
    var eft = 0;
    var mem_sold = 0;
    var cash = 0;
    var cash = 0;
    var total_gross = 0;
    if(project == 'true'){
        eft = "<%=@gross_values['e_prjt'.to_sym]%>"; 
        mem_sold = "<%=@gross_values['m_prjt'.to_sym]%>";   
        cash = "<%=@gross_values['c_prjt'.to_sym]%>";
        total_gross = "<%=@gross_values['g_prjt'.to_sym]%>";
    }
    else{
        eft = "<%=@gross_values['g_eft'.to_sym]%>";
        mem_sold = "<%=@gross_values['g_mem'.to_sym]%>";
        cash = "<%=@gross_values['g_cash'.to_sym]%>";
        total_gross = "<%=@gross_values['g_gross'.to_sym]%>";
    }
    

    eft = eft ? parseInt(eft)/1000 : 0;
    $('#eftgauge').jqxGauge('value', eft);
    $('#eftgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value) + ' $(k)');    
    });

    
    mem_sold = mem_sold ? parseInt(mem_sold) : 0;
    $('#membersoldgauge').jqxGauge('value', mem_sold);
    $('#membersoldgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value));
    });
    

    cash = cash ? parseInt(cash)/1000 : 0;
    $('#cashgauge').jqxGauge('value', cash)
    $('#cashgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value) + ' $(k)');
    });
     
    total_gross = total_gross ? parseInt(total_gross)/1000 : 0
    $('#totalgrossgauge').jqxGauge('value', total_gross);
    $('#totalgrossgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value) + ' $(k)');
    });

    var test = "<%=@leads.present? ? 'true' : 'false'%>"
    if(test == "true"){
        var lead = "<%=@leads%>";
        lead = lead != 0 ? parseInt(lead) : 0;
        $('#leadgauge').jqxGauge('value', lead);
        $('#leadgauge').on('valueChanging', function (e) {
            $(this).siblings('.gaugeValue').text(Math.round(e.args.value));
        });
    }
    
}

</script>
