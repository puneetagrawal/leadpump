<script type="text/javascript">
$(document).ready(function () {
    initgauge();
    var count = 0;
});

function initgauge(){
    var total = 220;
    var interval = 220/10;
    var range = 220/4;

    
    $(".container220").jqxGauge({ 
        max: total, 
        labels: { interval: 22},
        ticksMinor: { interval: interval/4, size: '5%' },
        ticksMajor: { interval: interval/2, size: '9%' },
        ranges: [{ startValue: 0, endValue: range, style: {fill: '#e02629', stroke: '#e02629'  }, endWidth: 5, startWidth: 1 },
        { startValue: range, endValue: range * 2, style: {fill: '#ff8000', stroke: '#ff8000' }, endWidth: 10, startWidth: 5 },
        { startValue: range * 2, endValue: range * 3, style: { fill: '#fbd109', stroke: '#fbd109' }, endWidth: 13, startWidth: 10 },
        { startValue: range * 3, endValue: range * 4, style: { fill: '#4bb648', stroke: '#4bb648' }, endWidth: 16, startWidth: 13 }],
        colorScheme: 'scheme05',
        animationDuration: 400,
        width: 180
    });

    var t_csh_due = 500;
    var interval_csh_due = 500/10;
    var range_csh_due = 500/4;

    $(".container500").jqxGauge({ 
        max: t_csh_due, 
        labels: { interval: 50},
        ticksMinor: { interval: interval_csh_due/4, size: '5%' },
        ticksMajor: { interval: interval_csh_due/2, size: '9%' },
        ranges: [{ startValue: 0, endValue: range_csh_due, style: {fill: '#e02629', stroke: '#e02629'  }, endWidth: 5, startWidth: 1 },
        { startValue: range_csh_due, endValue: range_csh_due * 2, style: {fill: '#ff8000', stroke: '#ff8000' }, endWidth: 10, startWidth: 5 },
        { startValue: range_csh_due * 2, endValue: range_csh_due * 3, style: { fill: '#fbd109', stroke: '#fbd109' }, endWidth: 13, startWidth: 10 },
        { startValue: range_csh_due * 3, endValue: range_csh_due * 4, style: { fill: '#4bb648', stroke: '#4bb648' }, endWidth: 16, startWidth: 13 }],
        colorScheme: 'scheme05',
        animationDuration: 400,
        width: 180
    });

    var eft = "<%=@gross_values['g_eft'.to_sym]%>";
    efts = getRange1(eft, 'eft_scope');
    $('#eftgauge').jqxGauge('value', efts);
    $('#eftgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text('$ ' + Math.round(eft));    
    });
   

    var mem_sold = "<%=@gross_values['g_mem'.to_sym]%>";
    mem_sold = mem_sold != 0 ? parseInt(mem_sold) : 0;
    $('#membersoldgauge').jqxGauge('value', mem_sold);
    $('#membersoldgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value));
    });

    
    var cash = "<%=@gross_values['g_cash'.to_sym]%>";
    cashs = getRange1(cash, 'cash_scope');
    $('#cashgauge').jqxGauge('value', cashs);
    $('#cashgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text('$ ' + Math.round(cash));
    });

    var total_gross = "<%=@gross_values['g_gross'.to_sym]%>";
    total_grosss = getRange(total_gross, 'gross_scope');
    $('#totalgrossgauge').jqxGauge('value', total_grosss);
    $('#totalgrossgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text('$ ' + Math.round(total_gross));
    });

    var lead = "<%=@leads%>";
    lead = lead != 0 ? parseInt(lead) : 0;
    $('#leadgauge').jqxGauge('value', lead);
    $('#leadgauge').on('valueChanging', function (e) {
        $(this).siblings('.gaugeValue').text(Math.round(e.args.value));
    });
}

function getRange(no, id){
    no = no ? parseInt(no) : 0
    if(no >= 0 && no <= 220){
        value = no;
        count = 0;
    }
    else if(no > 220 && no <= 2200){
        value = no/10;
        $("#"+id).html('(in 10)');
        count = 10;
    }
    else if(no > 2200 && no <= 22000){
        value = no/100;
        $("#"+id).html('(in 100)');
        count = 100;
    }   
    else{
        value = no/1000;
        $("#"+id).html('(in 1000)');
        count = 1000;
    }
    return value;
}

function getRange1(no, id){
    no = no ? parseInt(no) : 0
    if(no >= 0 && no <= 500){
        value = no;
        count = 0;
    }
    else if(no > 500 && no <= 5000){
        value = no/10;
        $("#"+id).html('(in 10)');
        count = 10;
    }
    else if(no > 5000 && no <= 50000){
        value = no/100;
        $("#"+id).html('(in 100)');
        count = 100;
    }   
    else{
        value = no/1000;
        $("#"+id).html('(in 1000)');
        count = 1000;
    }
    return value;
}

</script>
